1. Управление пользователями:

a) создать нового пользователя; 
b) убедиться, что информация о нем появилась в соответствующих файлах в системе;
c) удалить созданного пользователя;


student@Ubuntu-MySQL-VirtualBox:/home$ whoami
student
student@Ubuntu-MySQL-VirtualBox:/home$ groups
student adm cdrom sudo dip plugdev lpadmin sambashare
student@Ubuntu-MySQL-VirtualBox:/home$ sudo useradd -m -s /bin/bash new_user1
[sudo] пароль для student: 
student@Ubuntu-MySQL-VirtualBox:/home$ su new_user1 
Пароль: 
su: Сбой при проверке подлинности
student@Ubuntu-MySQL-VirtualBox:/home$ sudo passwd new_user1 
Введите новый пароль UNIX: 
Повторите ввод нового пароля UNIX: 
passwd: пароль успешно обновлён
student@Ubuntu-MySQL-VirtualBox:/home$ su new_user1 
Пароль: 
new_user1@Ubuntu-MySQL-VirtualBox:/home$ whoami
new_user1
new_user1@Ubuntu-MySQL-VirtualBox:/home$ groups
new_user1
student@Ubuntu-MySQL-VirtualBox:/home$ sudo userdel -fr new_user1 
userdel: почтовый ящик new_user1 (/var/mail/new_user1) не найден
student@Ubuntu-MySQL-VirtualBox:/home$ su new_user1 
Отсутствует passwd-запись для пользователя «new_user1»


2. Управление группами:

a) создать группу; 
b) попрактиковаться в смене групп у пользователей;
c) добавить пользователя в группу, не меняя основной;
d) удалить пользователя из группы.

student@Ubuntu-MySQL-VirtualBox:/home$ sudo groupadd new_group
student@Ubuntu-MySQL-VirtualBox:/home$ more /etc/group | grep new
news:x:9:
new_group:x:1001:
student@Ubuntu-MySQL-VirtualBox:/home$ sudo usermod -aG new_group student
student@Ubuntu-MySQL-VirtualBox:/home$ sudo useradd -m -s /bin/bash kate
student@Ubuntu-MySQL-VirtualBox:/home$ sudo passwd kate
Введите новый пароль UNIX: 
Повторите ввод нового пароля UNIX: 
passwd: пароль успешно обновлён
student@Ubuntu-MySQL-VirtualBox:/home$ su kate
Пароль:
kate@Ubuntu-MySQL-VirtualBox:/home$ sudo usermod -g new_group kate 
kate@Ubuntu-MySQL-VirtualBox:/home$ groups
new_group
kate@Ubuntu-MySQL-VirtualBox:/home$ sudo usermod -aG kate kate
student@Ubuntu-MySQL-VirtualBox:~$ sudo usermod -aG sudo kate
student@Ubuntu-MySQL-VirtualBox:~$ sudo usermod -aG student kate
student@Ubuntu-MySQL-VirtualBox:~$ sudo usermod -aG dip kate
student@Ubuntu-MySQL-VirtualBox:~$ su kate
Пароль: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.
kate@Ubuntu-MySQL-VirtualBox:/home/student$ groups
kate sudo dip student
kate@Ubuntu-MySQL-VirtualBox:/home/student$ su student
Пароль: 
student@Ubuntu-MySQL-VirtualBox:~$ sudo nano /etc/group
student@Ubuntu-MySQL-VirtualBox:~$ su kate
Пароль: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.
kate@Ubuntu-MySQL-VirtualBox:/home/student$ groups
kate sudo student

3. Создать пользователя с правами суперпользователя. Проверить результат.

kate@Ubuntu-MySQL-VirtualBox:/home/student$ sudo useradd -s /bin/bash -d /home/admin -m admin
[sudo] пароль для kate: 
kate@Ubuntu-MySQL-VirtualBox:/home/student$ sudo usermod -a -G sudo admin
kate@Ubuntu-MySQL-VirtualBox:/home/student$ groups admin
admin : admin sudo


4. * Используя дополнительные материалы, выдать одному из созданных пользователей право на выполнение ряда команд, требующих прав суперпользователя (команды выбираем на своё усмотрение).

### в этом решении где-то ошибка, но не пойму что не так

kate@Ubuntu-MySQL-VirtualBox:/home/student$ sudo deluser kate sudo
[sudo] пароль для kate: 
Удаляется пользователь «kate» из группы «sudo» ...
Готово.
kate@Ubuntu-MySQL-VirtualBox:/home/student$ su admin
Пароль: 
su: Сбой при проверке подлинности
kate@Ubuntu-MySQL-VirtualBox:/home/student$ sudo su - admin
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.
student@Ubuntu-MySQL-VirtualBox:/home/admin$ sudo passwd admin
[sudo] пароль для student: 
Введите новый пароль UNIX: 
Повторите ввод нового пароля UNIX: 
passwd: пароль успешно обновлён
student@Ubuntu-MySQL-VirtualBox:/home/admin$ su admin
Пароль: 
To run a command as administrator (user "root"), use "sudo <command>".
See "man sudo_root" for details.
admin@Ubuntu-MySQL-VirtualBox:~$ sudoedit kate All= /usr/sbin/adduser
[sudo] пароль для admin: 
sudoedit: kate: editing files in a writable directory is not permitted
sudoedit: All=: editing files in a writable directory is not permitted
admin@Ubuntu-MySQL-VirtualBox:~$ visudo kate All= /usr/sbin/usermod
usage: visudo [-chqsV] [-f sudoers] [-x output_file]







sudoedit
kate All= /usr/sbin/usermod
kate All= /usr/sbin/addgroup
kate ALL=(ALL) ALL

Файл /etc/sudoers может редактироваться или командой sudoedit, которая является встроенным механизмом для редактирования файлов в утилиту sudo, или утилитой visudo, обе эти команды запускают текстовый редактор и позволяет избежать большинства синтаксических ошибок. sudoedit -вызывает редактор по умолчанию (во многих современных системах это nano), a visudo - проверяет синтаксис записи, использует для редактирования файла редактор vi, имеет преимущество в . Синтаксис записи:
User_name ALL= full_path_to_command. Например, запись user All= /usr/sbin/adduser позволит пользователю с именем user, используя sudo, добавлять учётные записи в системе.
User_name ALL=(ALL) ALL позволит пользователю, используя утилиту sudo, выполнять административные действия без ограничений.
%sudo ALL=(ALL) NOPASSWD:ALL позволит всем пользователям, входящим в группу sudo, выполнять любые административные действия в системе без подтверждения паролем. В целях безопасности не рекомендуется использовать в многопользовательских решениях.





